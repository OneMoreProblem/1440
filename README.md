# Определение Видимости Космического аппарата

## Структура проекта
```
1440/
├── satellite_visibility/
│   ├── __init__.py
│   ├── core.py
│   └── visualization.py
├── setup.py
├── requirements.txt
└── satellite_notebook.py
```

`satellite_visibility` -- Директория с ядром 
`requirements.txt` -- Список заисимостей
`satellite_notebook.py` -- подробная документация Включающая в себя

1. **[Погружение в предметную область](#section1)**
   - [1.1 Определение системы координат](#section1-1)
   - [1.2 Определение временной шкалы](#section1-2)
   - [1.3 Определение видимости космического аппарата](#section1-3)
   - [1.4 Физические факторы](#section1-4)

2. **[Математическая модель](#section2)**

3. **[Реализация](#section3)**
   - [3.1 Функциональные требования](#section3-1)
   - [3.2 Программные требования](#section3-2)
   - [3.3 Код](#section3-3)

4. **[Проверка](#section4)**
   - [4.1 Соответствие функциональным требованиям](#section4-1)
   - [4.2 Соответствие техническим требованиям](#section4-2)
   - [4.3 Тесты](#section4-3)
   - [4.4 Валидация](#section4-4)

5. **[Визуализация результатов](#section5)**

## Установка

`pip install -e .`

## Пример использования

- Координаты КА в инерциальной системе (ECI J2000): `[4435144,-2137297, 4670064]` метров
- Момент наблюдения `8084.185608609847` юлианских дней от эпохи J2000
- Положение наблюдателя `45.920266` градусов северной широты, `63.342286` градусов западной долготы
- Порог видимости `15.0` над горизонтом

**Ответ:** `Угол возвышения: 43.71850935339177 градусов, КА виден`

## Код примера

`examples/task.ty`

```{python}
from satellite_visibility import *

position_eci = [4435144, -2137297, 4670064]
observation_time = 8084.185608609847
observer_lat = 45.920266
observer_lon = -64.342286
min_elevation = 15.0

elevation_deg, visibility = check_visibility(position_eci, observer_lat, observer_lon, 0, 
                                            observation_time, min_elevation_deg=0)
visibility = 'виден' if visibility else 'не виден'

print('Угол возвышения:', elevation_deg, 'градусов, КА', visibility)
```

**Запуск:**

`python ./examples/task.py`

**Вывод:**
```
Угол возвышения: 43.71850935339177 градусов, КА виден
```
**TODO**
0) Верификация, сверить с существующими библиотеками.
1) Документация к визуализации
2) Покрытие тестами визуализации
3) Примеры использования визуализации
4) Уточнение для модели прецессии
5) Учет нутеллы
6) Учет движения полюсов
7) Реорганизация порядка подачи аргументов и выводов в соотвествии с требованиями из задания
8) Использование в ноутбуке функций из пакета
9) Подумать над уместностью ООП
10) Разобраться с автоматическим тестированием
11) Поправить структуру документа и изложения материала, сделать акцент на жизненный цикл модели
12) Попробуем ECS? Для расширяемости, предположим, что и наблюдателей и КА будет множество, определим структуру сущьностей, список компонент для каждой сущьности, а потом определим системы обработки компонент и сущьностей. 
